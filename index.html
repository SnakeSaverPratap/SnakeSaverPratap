<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Warning — Server Compromised</title>
  <style>
    :root{
      --bg:#0b0b0b;
      --card:#111;
      --accent:#ff2d2d;
      --accent-2:#ffd166;
      --text:#fff;
      --danger-size:160px;
      --flash-duration:0.8s; /* animation speed */
    }

    /* Respect users who request reduced motion */
    @media (prefers-reduced-motion: reduce){
      :root{--flash-duration:9999s;} /* effectively disables flashing */
    }

    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,system-ui,-apple-system,"Helvetica Neue",Arial; background:linear-gradient(180deg,#070707 0%, #111111 100%); color:var(--text);}    
    .wrap{min-height:100%;display:grid;place-items:center;padding:32px}

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      padding:28px 36px;
      border-radius:14px;
      box-shadow:0 20px 40px rgba(2,2,2,0.6);
      max-width:980px;
      width:100%;
      display:flex;
      gap:28px;
      align-items:center;
    }

    .danger{
      width:var(--danger-size);
      height:var(--danger-size);
      min-width:var(--danger-size);
      display:grid;place-items:center;
      animation: pulse var(--flash-duration) linear infinite;
    }

    /* simple flashing pulse for the triangle */
    @keyframes pulse{
      0%{transform:scale(1); filter:drop-shadow(0 0 0 rgba(255,45,45,0.0));}
      25%{transform:scale(1.05);} 
      50%{transform:scale(1); filter:drop-shadow(0 0 30px rgba(255,45,45,0.55));}
      100%{transform:scale(1);}    
    }

    .triangle{
      width:100%;height:100%;display:block;transform-origin:center center;
    }

    .message{
      flex:1;min-width:200px;
    }

    .headline{
      font-size:20px;font-weight:700;letter-spacing:0.4px;margin:0 0 8px;color:var(--accent-2);
    }

    .flash-text{
      font-size:28px;font-weight:800;margin:0;line-height:1.05;color:var(--text);
      animation:flashText var(--flash-duration) steps(2) infinite;
      -webkit-font-smoothing:antialiased;
      word-break:break-word;
    }

    @keyframes flashText{
      0%{opacity:1}
      49%{opacity:0}
      50%{opacity:1}
      100%{opacity:0}
    }

    /* Controls (visually hidden to satisfy the user's removal request but present for scripts) */
    .controls{display:flex;gap:12px;margin-top:18px;align-items:center}
    .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}

    button{background:#141414;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:8px 12px;border-radius:8px;cursor:pointer}
    button:active{transform:translateY(1px)}

    .small{font-size:13px;color:#bdbdbd}

    /* safety style when flashing disabled */
    .no-flash .danger{animation:none}
    .no-flash .flash-text{animation:none;opacity:1}

    /* layout for small screens */
    @media (max-width:640px){
      .card{flex-direction:column;align-items:center;text-align:center}
      .message{width:100%}
      .flash-text{font-size:20px}
    }

    /* Overlay shown to request a user gesture to enable sound */
    #soundOverlay{
      position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,0.6);z-index:9999;backdrop-filter:blur(4px);
    }
    #soundOverlay.hidden{display:none}
    #soundOverlay .panel{background:#111;padding:18px 22px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);text-align:center}
    #soundOverlay p{margin:0 0 12px;color:#fff}

    /* Devtools-detected overlay */
    #dtOverlay{position:fixed;inset:0;display:none;place-items:center;background:#000;color:#fff;z-index:10000}
    #dtOverlay .panel{padding:24px;border-radius:8px;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <div class="danger" aria-hidden="true">
        <!-- SVG danger triangle with exclamation -->
        <svg class="triangle" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Danger">
          <defs>
            <linearGradient id="g" x1="0" x2="1">
              <stop offset="0%" stop-color="#ff9f9f" />
              <stop offset="100%" stop-color="#ff2d2d" />
            </linearGradient>
          </defs>
          <path fill="url(#g)" d="M1.5 20.5h21L12 2.5 1.5 20.5z" />
          <rect x="11" y="8.5" width="2" height="5" rx="1" fill="#fff" />
          <rect x="11" y="15.5" width="2" height="2" rx="1" fill="#fff" />
        </svg>
      </div>

      <div class="message">
        <p class="headline">Security Alert</p>

        <!-- The user-specified message (preserved as requested). Use aria-live for screen readers. -->
        <p class="flash-text" id="flashText" aria-live="assertive">server compromished plese exit</p>

        <!-- Hidden controls: present so scripts can attach listeners but not visible to the user -->
       

      </div>
    </div>
  </div>

  <!-- Overlay that prompts the user to enable sound. Visible by default because we will not autoplay. -->
 

  <!-- Devtools detected overlay: shown when detection heuristics trigger -->
  <div id="dtOverlay" aria-hidden="true">
    <div class="panel">
      <h2>Access blocked</h2>
      <p>Developer tools detected. The session will end.</p>
    </div>
  </div>

  <script>
    (function(){
      const card = document.getElementById('card');
      const toggleBtn = document.getElementById('toggleFlash');
      const correctBtn = document.getElementById('correctText');
      const flashText = document.getElementById('flashText');

      // Defensive: if any required element is missing, bail gracefully
      if(!card || !flashText){
        console.error('Required elements missing: ', {card, flashText});
        return;
      }

      let flashing = true;

      if(toggleBtn){
        toggleBtn.addEventListener('click', ()=>{
          flashing = !flashing;
          if(!flashing){
            card.classList.add('no-flash');
            toggleBtn.textContent = 'Resume flashing';
          } else {
            card.classList.remove('no-flash');
            toggleBtn.textContent = 'Pause flashing';
          }
        });
      }

      // Toggle between the user's original (with typos) and a corrected sentence
      const original = 'server compromished plese exit';
      const corrected = 'Server compromised — please exit immediately.';
      let showingCorrect = false;

      if(correctBtn){
        correctBtn.addEventListener('click', ()=>{
          showingCorrect = !showingCorrect;
          flashText.textContent = showingCorrect ? corrected : original;
          correctBtn.textContent = showingCorrect ? 'Show original text' : 'Show corrected text';
        });
      }

      // Ensure animations are disabled if the user prefers reduced motion at runtime
      try{
        const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
        if(mq.matches){
          card.classList.add('no-flash');
          if(toggleBtn) toggleBtn.disabled = true;
          if(toggleBtn) toggleBtn.textContent = 'Flashing disabled (reduced-motion)';
        }
        mq.addEventListener && mq.addEventListener('change', (e)=>{
          if(e.matches){
            card.classList.add('no-flash');
            if(toggleBtn) toggleBtn.disabled = true;
            if(toggleBtn) toggleBtn.textContent = 'Flashing disabled (reduced-motion)';
          } else {
            card.classList.remove('no-flash');
            if(toggleBtn) toggleBtn.disabled = false;
            if(toggleBtn) toggleBtn.textContent = 'Pause flashing';
          }
        });
      }catch(e){/* ignore in older browsers */}

    })();
  </script>

  <!-- We now create and play the audio only after a direct user gesture on the page -->
  <script>
    (function(){
      const overlay = document.getElementById('soundOverlay');
      const enableBtn = document.getElementById('enableSoundBtn');
      const AUDIO_SRC = 'alert.mp3'; // place this file next to the HTML
      let audioEl = null;

      function createAndPlayAudio(){
        if(audioEl) return audioEl.play();

        audioEl = document.createElement('audio');
        audioEl.src = AUDIO_SRC;
        audioEl.loop = true;
        audioEl.playsInline = true;
        audioEl.volume = 0.8;
        audioEl.preload = 'auto';

        // Append offscreen so it's part of DOM and can be controlled
        audioEl.style.position = 'fixed';
        audioEl.style.left = '-9999px';
        document.body.appendChild(audioEl);

        // Play and return the promise
        return audioEl.play();
      }

      function hideOverlay(){
        overlay.classList.add('hidden');
        overlay.setAttribute('aria-hidden','true');
      }
      function showOverlay(){
        overlay.classList.remove('hidden');
        overlay.removeAttribute('aria-hidden');
      }

      // If the file doesn't exist or playback fails, inform user in console and keep overlay visible
      enableBtn.addEventListener('click', (e)=>{
        // this click is a direct user gesture — use it to create & play the audio
        createAndPlayAudio().then(()=>{
          hideOverlay();
          console.log('Alert sound playing');
        }).catch((err)=>{
          console.error('Play failed after user gesture:', err);
          // show a short message in overlay
          enableBtn.textContent = 'Play failed — try again';
        });
      });

      // Also attempt on any first interaction (click/keydown) as extra safety
      function onFirstInteraction(){
        createAndPlayAudio().then(hideOverlay).catch(()=>{});
        document.removeEventListener('click', onFirstInteraction);
        document.removeEventListener('keydown', onFirstInteraction);
      }
      document.addEventListener('click', onFirstInteraction);
      document.addEventListener('keydown', onFirstInteraction);

      // Keep overlay visible until audio successfully plays
      showOverlay();

    })();
  </script>

  <script>
    // Attempt to close the window after 15 seconds. NOTE: Most browsers will only allow window.close()
    // if the page was opened via window.open() by script. Fallback: redirect to about:blank if close is blocked.
    const closeAfter = 15000; // ms
    setTimeout(() => {
      try{
        window.close();
        // If window.close() is blocked, navigate away as a fallback
        setTimeout(()=>{
          if(!window.closed){
            window.location.replace('about:blank');
          }
        }, 300);
      }catch(e){
        // As a last resort redirect
        window.location.replace('about:blank');
      }
    }, closeAfter);
  </script>

  <!-- Deterrent script to disable right‑click & block common devtools shortcuts (NOT foolproof) -->
  <script>
    (function(){
      // Disable right-click
      document.addEventListener('contextmenu', function(e){ e.preventDefault(); }, {passive:false});

      // Block common developer shortcuts
      document.addEventListener('keydown', function(e){
        const key = e.key.toLowerCase();
        const ctrl = e.ctrlKey || e.metaKey;
        const shift = e.shiftKey;

        // F12
        if(e.key === 'F12'){ e.preventDefault(); e.stopPropagation(); return; }

        // Ctrl+Shift+I / Cmd+Shift+I
        if(ctrl && shift && key === 'i'){ e.preventDefault(); e.stopPropagation(); return; }

        // Ctrl+Shift+J (console)
        if(ctrl && shift && key === 'j'){ e.preventDefault(); e.stopPropagation(); return; }

        // Ctrl+Shift+C (inspect element)
        if(ctrl && shift && key === 'c'){ e.preventDefault(); e.stopPropagation(); return; }

        // Ctrl+U (view source)
        if(ctrl && key === 'u'){ e.preventDefault(); e.stopPropagation(); return; }

        // Ctrl+S (save page)
        if(ctrl && key === 's'){ e.preventDefault(); e.stopPropagation(); return; }

        // Ctrl+P (print)
        if(ctrl && key === 'p'){ e.preventDefault(); e.stopPropagation(); return; }

        // Firefox console shortcut
        if(ctrl && shift && key === 'k'){ e.preventDefault(); e.stopPropagation(); return; }
      }, true);

      // Optional nuisance deterrent: refocus window repeatedly
      // Warning: this is annoying — enable only if you want aggressive behavior
      // setInterval(() => { window.focus(); }, 800);

    })();
  </script>

  <!-- Devtools detection heuristics: if devtools are detected the page blanks and redirects. -->
  <script>
    (function(){
      const dtOverlay = document.getElementById('dtOverlay');

      // Actions to take when devtools detected
      function onDevtoolsDetected(){
        try{
          // Show a blocking overlay
          if(dtOverlay){ dtOverlay.style.display = 'grid'; dtOverlay.removeAttribute('aria-hidden'); }
          // Clear page content after a short delay and redirect
          setTimeout(()=>{
            try{ document.documentElement.innerHTML = '<meta charset="utf-8"><title>Session ended</title><body style="background:#000;color:#fff;display:grid;place-items:center;height:100vh;margin:0;"><div><h2>Session terminated</h2></div></body>'; }catch(e){}
            try{ window.location.replace('about:blank'); }catch(e){}
          }, 800);
        }catch(e){}
      }

      // Heuristic 1: detect large difference between outer and inner dimensions (devtools docked)
      function checkDimensions(){
        const threshold = 160; // pixels
        const widthDiff = Math.abs(window.outerWidth - window.innerWidth);
        const heightDiff = Math.abs(window.outerHeight - window.innerHeight);
        if(widthDiff > threshold || heightDiff > threshold) return true;
        return false;
      }

      // Heuristic 2: measure time of debugger statement (pausing detection)
      function checkDebuggerPause(){
        const start = performance.now();
        // eslint-disable-next-line no-debugger
        debugger;
        const end = performance.now();
        return (end - start) > 100; // if paused, this will be large
      }

      // Periodically check heuristics
      let detected = false;
      setInterval(()=>{
        try{
          if(detected) return;
          if(checkDimensions()) detected = true;
          // Some browsers ignore debugger in non-devtools; wrap in try/catch
          try{ if(checkDebuggerPause()) detected = true; }catch(e){}
          if(detected) onDevtoolsDetected();
        }catch(e){/* ignore errors */}
      }, 500);

      // Also try to detect when developer tools console is opened via toString trick
      (function(){
        const re = /./;
        re.toString = function(){ detected = true; onDevtoolsDetected(); return 'dev'; };
        console.log('%c', re);
      })();

    })();
  </script>

</body>
</html>
